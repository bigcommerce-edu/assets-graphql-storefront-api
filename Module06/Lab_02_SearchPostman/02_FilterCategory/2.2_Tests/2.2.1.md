```
pm.test("Response is not an error", () => {
    pm.response.to.not.be.error;
    pm.response.to.not.have.jsonBody("errors");
});
pm.test("Response is JSON with data", () => {
    pm.response.to.have.jsonBody("data");
});

const products = pm.response.json().data?.site?.search?.searchProducts?.products?.edges 
    ?? [];
pm.test("Response includes at least one product", () => {
    pm.expect(products.length).to.be.above(0);
});

const filterValueIndex = 0;
const variantFilterName = "Color";

const availableFilters = pm.response.json().data?.site?.search?.searchProducts?.filters?.edges
    ?? [];
const availableVariantFilter = availableFilters.find(filter => {
    return filter.node.name === variantFilterName;
});
pm.test("Response includes available variant filters", () => {
    pm.expect(availableVariantFilter?.node?.attributes?.edges?.length)
        .to.be.above(filterValueIndex);
});
```